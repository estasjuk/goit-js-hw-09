{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,aAAcC,SAASC,cAAc,uBACrCC,KAAMF,SAASC,cAAc,sBAC7BE,OAAQH,SAASC,cAAc,wBAC/BG,KAAMJ,SAASC,cAAc,UAe/B,SAASI,EAAUC,GACjBC,EAAAX,GAASY,OAAOC,QAAQH,E,CAG1B,SAASI,EAAQJ,GACfC,EAAAX,GAASY,OAAOG,QAAQL,E,CAG1B,SAASM,EAAcC,EAAUC,GAE/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,KACPH,GACFF,EAAQ,qBAAqBH,QAAeC,OAE9CG,EAAO,oBAAoBJ,QAAeC,MAAU,GACnDA,EAAM,G,CA7BXhB,EAAKM,KAAKkB,iBAAiB,UAE3B,SAAsBC,GACpBA,EAAEC,iBACF,IAAK,IAAIC,EAAS,EAAGA,GAAU3B,EAAKK,OAAOuB,MAAOD,GAAU,EAAG,CAC7D,MAAME,EAAgBC,OAAO9B,EAAKC,aAAa2B,OAASD,EAASG,OAAO9B,EAAKI,KAAKwB,OAClFd,EAAca,EAAQE,GACnBE,KAAKxB,GACLyB,MAAMpB,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  initialDelay: document.querySelector(\"input[name='delay']\"),\n  step: document.querySelector(\"input[name='step']\"),\n  amount: document.querySelector(\"input[name='amount']\"),\n  form: document.querySelector(\".form\"),\n}\n\nrefs.form.addEventListener(\"submit\", onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  for (let number = 1; number <= refs.amount.value; number += 1) {\n    const delayInterval = Number(refs.initialDelay.value) + number * Number(refs.step.value);\n    createPromise(number, delayInterval)\n      .then(onSuccess)\n      .catch(onError)\n  };\n}\n\nfunction onSuccess(result) { \n  Notiflix.Notify.success(result);\n};\n\nfunction onError(result) { \n  Notiflix.Notify.failure(result);\n};\n\nfunction createPromise(position, delay) {\n\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n    if (shouldResolve) {\n      resolve(`Fulfilled promise ${position} in ${delay}ms`);\n    }\n    reject(`Rejected promise ${position} in ${delay}ms`);\n  }, delay)\n  });\n};\n\n\n\n\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$refs","initialDelay","document","querySelector","step","amount","form","$47d4ff9957288465$var$onSuccess","result","$parcel$interopDefault","Notify","success","$47d4ff9957288465$var$onError","failure","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","addEventListener","e","preventDefault","number","value","delayInterval","Number","then","catch"],"version":3,"file":"03-promises.dc326a10.js.map"}